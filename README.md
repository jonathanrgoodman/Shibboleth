The code for the three models, Shibboleth 1, 2, and 3, for R, are included here; they can be uploaded to R and run as functions. The default parameters are N = 50; traits = 10; generations = 200; cost = 10; B = 0.2. The colorRamps package (Keitt, 2007; https://cran.r-project.org/web/packages/colorRamps/colorRamps.pdf) is required to run the functions. The ggplot2 package (Wickham, 2016; https://cran.r-project.org/web/packages/ggplot2/index.html) is required to plot the functions' output.

To analyse the outputs, or to run multiple iterations of the models, see the <a href="https://github.com/jonathanrgoodman/Shibboleth/tree/main/analysis-functions">analysis-functions folder</a> in this repository. <a href="https://github.com/jonathanrgoodman/Shibboleth/blob/main/analysis-functions/repeated-shibboleth.R">Repeated shibboleth</a> allows for multiple runs with the additional <i>runs</i> command, which can be set to any integer. The repeated Shibboleth function generates two outputs: the first [[1]] is the frequency of traits per generation over runs, which can be averaged using <a href="https://github.com/jonathanrgoodman/Shibboleth/blob/main/analysis-functions/shibboleth.run.averages.R">this</a> function. The Shibboleth <a href="https://github.com/jonathanrgoodman/Shibboleth/blob/main/analysis-functions/shibboleth.line.R">line</a> function then allows the user to plot the average trait distributions over generations. The second [[2]] output gives the trait in fixation, the generation at fixation, and the run number in columns 1, 2, and 3, respectively.

Please note the Shibboleth functions can also be run in single iterations. In all three cases the first [[1]] output can be plotted using the Shibboleth line function. The third [[3]] output from Shibboleth 1 also gives the trait in fixation, the generation at fixation, and the run number in columns 1, 2, and 3, respectively; this is the second [[2]] output from Shibboleths 1 and 2.

The .rds files included here are the averaged results from the models' runs; they can be uploaded to R. The file drift5000.rds holds the results from the stochastic drift (comparator) model. We created models from the models' outputs using the script that can be found <a href="https://htmlpreview.github.io/?https://github.com/jonathanrgoodman/Shibboleth/blob/main/Shibbboleth-Analysis.nb.html">here</a>.

The <a href="https://github.com/jonathanrgoodman/Shibboleth/blob/main/Supplement.docx">Supplement.docx</a> file gives the models' description, which follows the standardized ODD protocol for agent-based models (ABMs; Grimm et al. 2006).
